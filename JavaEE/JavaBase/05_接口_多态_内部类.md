# 第五节 static、接口、多态、final、内部类

##一、static关键字

​	为什么要用static关键字？在开发时，我们遇到类中的变量为所有对象公有。比如，一班的学生，每个学生的姓名/年龄属于对象的私有，而所有对象班级都是101。这时我们将班级升级为类变量，使用`static`关键字修饰。优化内存，同时优化代码。

### 1.1、类变量

定义：当类的成员变量使用`static`修饰，称为**类变量**。

特点：

1. 类的所有对象共享该类变量。
2. 任何对象都可以改变类变量，不创建对象也可以对类变量进行操作；

###1.2、类变量使用

- 调用：**ClassName.类变量**

```java
class Demo{
	public static String name = "JavaEE";
    public static void main(String[] args){
        System.out.println(Demo.name);
        Demo d = new Demo();
        System.out.println(d.name);
    }
}
```

>也可以使用对象d.name方式调用，但是不推荐，其实际还是类名调用，编译器优化；

### 1.3、类变量与成员变量区别

- 成员变量（实例变量）所属于对象，为对象特有数据。类变量（即静态变量）所属于类，为对象的共享数据。  
- 成员变量存在于堆内存中。静态变量存在于方法区中。  
- 成员变量随着对象创建而存在，随着对象被回收而消失。类变量随着类的加载而存在，随着类的消失而消失。  
- 成员变量只能被对象所调用 。类变量可以被对象调用，也可以被类名调用。  
- 参考内存图解如下：

![](attach/img/F0_静态的内存图.png)

###1.4、静态方法（类方法）

当`static`修饰成员方法是，该方法成为静态方法，即类方法。

调用格式：`类名.静态方法()`

```java
class Demo{
    public static void main(String[] args){
        Demo.show();
    }
    public static void show(){
    	System.out.println("num="+numberOfStudent);
	}
}
```

注意事项：（包含区别成员方法）

- 不管是成员方法，还是成员变量，前面有static修饰，就推荐使用类名访问；
- 静态方法不能【**直接**】访问普通成员变量或成员方法，只能直接访问静态成员。反之，普通成员方法可以直接访问类任意成员；
- 静态方法中，不能使用this/super关键字。成员方法则都可以；

### 1.5、静态代码块

```java
class ClassName{
    static{
        .....
    }
}
```

上面就是一个静态代码块，其作用：给类变量进行一次性赋值！

- **为什么需要静态代码来进行一次性初始化赋值？ 就是统一作用，避免赋值杂乱，代码不易维护！同时静态代码有自己的作用域，即{}之内，我们也可以在这里添加一些统一初始化处理代码**

```java
	static {
		value = 23;
	}
	private static int value = 0;
	
	public static void main(String[] args) {
		System.out.println(value);
	}
----------
	0
     
     private static int value = 0;
     static {
		value = 23;
	}
	public static void main(String[] args) {
		System.out.println(value);
	}
--------------
    23
```

> 从上面代码得出结论:
>
> 1. 静态变量加载 比static代码块要快；
> 2. 初始化赋值速度是一样的，谁在后，值就是谁；



## 二、接口



### 



