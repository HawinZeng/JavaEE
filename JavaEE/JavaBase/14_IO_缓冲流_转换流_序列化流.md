# 第十四节  属性集、缓冲流、转换流、序列化流

## 一、属性集

### 1.1、 概述

`java.util.Properties ` 继承于` Hashtable` ，来表示一个持久的属性集。它使用键值结构存储数据，每个键及其对应值都是一个字符串。该类也被许多Java类使用，比如获取系统属性时，`System.getProperties` 方法就是返回一个`Properties`对象。

### 1.2、Properties类

#### Properties集合是一个唯一和IO流相结合的集合

- 可以使用Properties集合中的方法store,把集合中的临时数据,持久化写入到硬盘中存储
- 可以使用Properties集合中的方法load,把硬盘中保存的文件(键值对),读取到集合中使用
- **Properties集合是一个双列集合,key和value默认都是字符串**

#### 构造方法

- `public Properties()` :创建一个空的属性列表。

#### 基本的存储方法

- `public Object setProperty(String key, String value)` ： 保存一对属性。  
- `public String getProperty(String key) ` ：使用此属性列表中指定的键搜索属性值。
- `public Set<String> stringPropertyNames() ` ：所有键的名称的集合。

#### 写出数据（store方法,把集合中的临时数据,持久化写入到硬盘中存储）

- void store(OutputStream out, String comments)
- void store(Writer writer, String comments)

> 可以字节流写出，也可以字符流写出。comments:注释,用来解释说明保存的文件是做什么用的

#### 写入数据（load方法）

- void load(InputStream inStream)：非中文读取
- void load(Reader reader)：带中文读取

```
    private static void loadShow() throws IOException {
        //1.创建Properties集合对象
        Properties prop = new Properties();
        //2.使用Properties集合对象中的方法load读取保存键值对的文件
        prop.load(new FileReader("day04\\prop.txt"));
        //prop.load(new FileInputStream("09_IOAndProperties\\prop.txt"));
        //3.遍历Properties集合
        Set<String> set = prop.stringPropertyNames();
        for (String key : set) {
            String value = prop.getProperty(key);
            System.out.println(key+"="+value);
        }
    }

    private static void storeToPan() throws IOException {
        Properties prop = new Properties();
        prop.setProperty("赵丽颖","168");
        prop.setProperty("迪丽热巴","165");
        prop.setProperty("古力娜扎","160");

        //FileWriter fw = new FileWriter("09_IOAndProperties\\prop.txt");

        //prop.store(fw,"save data");

        //fw.close();

        prop.store(new FileWriter("day04\\prop.txt"),""); // 匿名流，自动关闭流
    }
```

> why匿名流自动关闭?







